\documentclass{beamer}

\usepackage[utf8]{inputenc}
\usepackage{listings}

\title{Introducing Middlefield}
\subtitle{https://github.com/elcaminoreal/ https://github.com/moshez/introducing-middlefield}
\author{Moshe Zadka -- https://cobordism.com}
\date{Pyninsula January 2017}
 
\begin{document}
 
\frame{\titlepage}

\begin{frame}
\frametitle{Middlefield - Custom generic developer tool}
Only needed to reinvent plugins (gather),
command-line parsing (caparg),
and dependency injection (elcaminoreal)!
\end{frame}

\begin{frame}[fragile]
\frametitle{Example plugin -- middlefield echo (setup.py)}
\begin{lstlisting}
# setup.py
<snip>
setuptools.setup(
<snip>
entry_points=dict(
    gather=["gather=middlefield_echo"]),
)
\end{lstlisting}
\end{frame}

\begin{frame}[fragile]
\frametitle{Example plugin -- middlefield echo (deps.py)}
\begin{lstlisting}
<snip>
@middlefield.COMMANDS.dependency()
def echo_printer(_deps, _maybe_deps):
    return print
\end{lstlisting}
\end{frame}

\begin{frame}[fragile]
\frametitle{Example plugin -- middlefield echo (command.py)}
\begin{lstlisting}
<snip>
@middlefield.COMMANDS.command(
parser=command('',
    what=option(type=typing.List[str],
                have_default=True)),
dependencies=['echo_printer'])
def echo(args, dependencies):
    dependencies['echo_printer'](*args['what'])
\end{lstlisting}
\end{frame}

\begin{frame}[fragile]
\frametitle{Only built-in command}
\begin{lstlisting}
$ pip install middlefield
$ mf self-build --output mf.pex \
     --package middlefield_echo
$ <upload mf.pex to your favorite internal place>
\end{lstlisting}
\end{frame}

\begin{frame}
\frametitle{What's next?}
\begin{itemize}
\item Write a plugin (internal or public)
\item Distribute internally
\item Talk to me zadka.moshe@gmail.com https://cobordism.com
\end{itemize}
\end{frame}

\end{document}
